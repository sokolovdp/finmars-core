# Generated by Django 2.2.5 on 2021-02-06 05:28

import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):
    dependencies = [
        ('users', '0035_auto_20201222_1103'),
        ('celery_tasks', '0009_auto_20200605_1406'),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='celerytask',
            options={'ordering': ['-created']},
        ),
        migrations.RenameField(
            model_name='celerytask',
            old_name='task_id',
            new_name='celery_task_id',
        ),
        migrations.RenameField(
            model_name='celerytask',
            old_name='task_status',
            new_name='status',
        ),
        migrations.RenameField(
            model_name='celerytask',
            old_name='task_type',
            new_name='type',
        ),
        migrations.AddField(
            model_name='celerytask',
            name='created',
            field=models.DateTimeField(auto_now_add=True, db_index=True, default=django.utils.timezone.now,
                                       verbose_name='created'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='celerytask',
            name='modified',
            field=models.DateTimeField(auto_now=True, db_index=True, verbose_name='modified'),
        ),
        migrations.AddField(
            model_name='celerytask',
            name='options',
            field=models.TextField(blank=True, null=True, verbose_name='options'),
        ),
        migrations.AddField(
            model_name='celerytask',
            name='parent',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL,
                                    related_name='children', to='celery_tasks.CeleryTask', verbose_name='parent'),
        ),
        migrations.AddField(
            model_name='celerytask',
            name='result',
            field=models.TextField(blank=True, null=True, verbose_name='result'),
        ),
        migrations.AlterUniqueTogether(
            name='celerytask',
            unique_together={('master_user', 'celery_task_id')},
        ),
        migrations.RemoveField(
            model_name='celerytask',
            name='finished_at',
        ),
        migrations.RemoveField(
            model_name='celerytask',
            name='json_data',
        ),
        migrations.RemoveField(
            model_name='celerytask',
            name='started_at',
        ),
    ]
