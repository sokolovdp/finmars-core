# Generated by Django 2.2.5 on 2021-09-07 19:12

from django.db import migrations, models


def transfer_user_code(apps, schema_editor):
    count = 0

    EventScheduelAction = apps.get_model("instruments", "EventScheduleAction")

    for item in EventScheduelAction.objects.all():
        item.transaction_type = item.transaction_type_old.user_code
        item.save()
        count = count + 1

    print("Update %s Events Actions" % count)


def rev(apps, schema_editor):
    # the reverse goes here if you want to copy company names into customer again if you migrate backwards.
    pass


class Migration(migrations.Migration):
    dependencies = [
        ('instruments', '0061_auto_20210907_1912'),
    ]

    operations = [
        migrations.AddField(
            model_name='eventscheduleaction',
            name='transaction_type',
            field=models.CharField(blank=True, max_length=255, null=True, verbose_name='transaction type'),
        ),
        migrations.RunPython(transfer_user_code, rev)
    ]
